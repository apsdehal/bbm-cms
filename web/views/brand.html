<div class="todo-content">
    <div class="portlet light">
        <!-- PROJECT HEAD -->
        <div class="portlet-title">
            <div class="caption col-md-3 col-sm-12">
                <i class="icon-bar-chart font-green hide"></i>
                <span class="caption-helper">Manage:</span> &nbsp;
                <span class="caption-subject font-green bold uppercase">Brands</span>
            </div>
            <content-search data-get-content="getBrands(val)" data-current-content="currentBrand" data-content-type="brand" data-label-attr="displayName"></content-search>
            <div class="actions col-md-3 col-sm-12">
                <div class="btn-group pull-right">
                </div>
            </div>
        </div>
        <!-- end PROJECT HEAD -->
        <div class="portlet-body">
            <div class="row">
                <div class="col-md-6 col-sm-6" ng-if="!isProductSelected">
                    <div style="min-height: 600px;">
                        <div class="col-md-12 text-center">
                            <uib-pagination boundary-links="true" total-items="totalBrands" ng-change="changePage(currentPage)" num-pages="numPages" rotate="false" items-per-page="itemsPerPage" max-size="maxSize" ng-model="currentPage" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination>
                        </div>
                        <div class="todo-tasklist">
                            <div ng-repeat="brand in brands">
                                <div class="todo-tasklist-item todo-tasklist-item-border-green" ng-click="changeCurrentBrand($index)">
                                    <div class="todo-tasklist-item-title">
                                      <img class="todo-userpic" ng-src="{{brand.image}}" width="27px" height="27px" >{{brand.title_s}}
                                    </div>
                                </div>
                                <br/>
                            </div>
                        </div>
                        <div ng-show="!brands.length">
                            <div class="col-md-12">
                                <div class="col-md-3">
                                </div>
                                <div class="col-md-6 text-center">
                                Loading brands...
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 text-center">
                            <uib-pagination boundary-links="true" total-items="totalBrands" ng-change="changePage(currentPage)" num-pages="numPages" rotate="false" items-per-page="itemsPerPage" max-size="maxSize" ng-model="currentPage" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-sm-6" ng-if="isProductSelected">
                    <div style="overflow: auto" class="form-group">
                        <div class="col-md-12">
                          <div class="todo-tasklist-item-title">Title: <button ng-click="backToBrands($event)" class="btn green btn-circle btn-sm pull-right">Back</button></div>
                            <input type="text" class="form-control todo-taskbody-tasktitle" placeholder="Product Title..." ng-model="currentProduct.title">
                        </div>
                    </div>
                    <!-- TASK DESC -->
                    <div style="overflow: auto" class="form-group margin-top-15">
                        <div class="col-md-12">
                          <div class="todo-tasklist-item-title">Description:</div>
                            <textarea class="form-control todo-taskbody-taskdesc" ng-model="currentProduct.desc" rows="8" placeholder="Product Description..."></textarea>
                        </div>
                    </div>
                    <div style="overflow: auto" class="form-group margin-top-15">
                        <div class="col-md-6">
                            <span class="todo-tasklist-item-title">Current Price:</span>
                            <input type="text" class="form-control todo-taskbody-tasktitle" placeholder="Current Price..." ng-model="currentProduct.price_curr">
                        </div>
                        <div class="col-md-6">
                            <span class="todo-tasklist-item-title">Currency:</span>
                            <input type="text" class="form-control todo-taskbody-tasktitle" placeholder="Currency" ng-model="currentProduct.currency">
                        </div>
                    </div>
                    <div style="overflow: hidden" class="form-group margin-top-15">
                        <div class="col-md-3">
                            <span class="todo-tasklist-item-title">Published:</span>
                            <input type="checkbox" ng-model="currentProduct.published">
                        </div>
                        <div class="col-md-3">
                            <span class="todo-tasklist-item-title">Top Seller:</span>
                            <input type="checkbox" ng-model="currentProduct.topSeller">
                        </div>
                        <div class="col-md-3">
                            <span class="todo-tasklist-item-title">Sold Out:</span>
                            <input type="checkbox" ng-model="currentProduct.soldOut">
                        </div>
                        <div class="col-md-3">
                            <span class="todo-tasklist-item-title">On Sale:</span>
                            <input type="checkbox" ng-model="currentProduct.onSale">
                        </div>
                    </div>
                    <div style="overflow: auto" class="form-group margin-top-15">
                        <div class="col-md-3">
                            <span class="todo-tasklist-item-title">Price Min:</span>
                            <input type="text" class="form-control todo-taskbody-tasktitle" placeholder="..." ng-model="currentProduct.priceMin">
                        </div>
                        <div class="col-md-3">
                            <span class="todo-tasklist-item-title">Price Max:</span>
                            <input type="text" class="form-control todo-taskbody-tasktitle" placeholder="..." ng-model="currentProduct.priceMax">
                        </div>
                        <div class="col-md-3">
                            <span class="todo-tasklist-item-title">MRP Min:</span>
                            <input type="text" class="form-control todo-taskbody-tasktitle" placeholder="..." ng-model="currentProduct.mrpMin">
                        </div>
                        <div class="col-md-3">
                            <span class="todo-tasklist-item-title">MRP Max:</span>
                            <input type="text" class="form-control todo-taskbody-tasktitle" placeholder="..." ng-model="currentProduct.mrpMax">
                        </div>
                    </div>
                    <div style="overflow: auto" class="form-group margin-top-15">
                        <div class="col-md-12">
                          <span class="todo-tasklist-item-title">Image:
                          </span>
                          <input type="text" class="form-control todo-taskbody-tasktitle" placeholder="Image Url" ng-model="currentProduct.imgUrl">
                          <br/>
                          <img ng-src="{{currentProduct.imgUrl}}" title="{{currentProduct.title}}"/>
                        </div>

                    </div>
                  <div class="form-actions col-md-12 text-right right todo-form-actions margin-top-15">
                      <img ng-if="ajaxInProcess" src="assets/images/reload.gif" class="btn-sm">
                      <span ng-if="ajaxComplete" class="alert" ng-class="ajaxState !== 'Success' ? 'alert-danger' : 'alert-success' ">{{ajaxState}}</span>

                      <button class="btn btn-circle btn-sm green" ng-click="saveCurrentProduct($event)">Save Changes</button>
                      <button class="btn btn-circle btn-sm btn-default" ng-click="deleteCurrentProduct($event)">Delete</button>
                  </div>
                  <comments data-current="currentProduct"></comments>
                </div>

                <div class="todo-tasklist-devider"> </div>
                <div class="portlet light col-md-6 col-sm-6">
                    <div style="min-height: 600px;">
                      <div class="form" style="overflow: auto">
                        <div class="form-group">
                          <div class="col-md-12 media">
                            <a class="pull-left" href="#">
                            <img class="todo-userpic" src="{{currentBrand.image}}" width="27px" height="27px">
                            </a>
                            <div class="media-body todo-comment">
                              <p class="todo-comment-head">
                                  <span class="todo-comment-username">{{currentBrand.displayName}}</span> &nbsp;
                              </p>
                            </div>
                          </div>
                          <div class="col-md-12">{{currentBrand['_company.about']}}</div>
                        </div>
                      </div>
                      <br/>
                      <div class="todo-tasklist-item-title col-md-12">Products:</div>
                      <div class="col-md-12" style="max-height: 600px; overflow: auto">
                        <button class="btn margin-top-15 col-md-12" ng-click="changeCurrentProduct($index)" ng-repeat="product in currentBrand.products">{{product.title}}</button>
                        <div ng-show="!currentBrand.products.length">
                            <div class="col-md-12">
                                <div class="col-md-3">
                                </div>
                                <div ng-if="!gettingProducts" class="col-md-6 text-center">
                                No products to show
                                </div>
                                <div ng-if="gettingProducts" class="col-md-6 text-center">
                                Loading products...
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
